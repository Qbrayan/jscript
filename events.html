<html>
   <head>
      <title>Javascript project</title> 
   </head>
   <body>
      <h3>Cytonn Automotives</h3>

       <form>
          <input type="button"  id="showbutton" onclick="showProfile()" value="See our profile" >
      </form>
      <h2>Select your ride</h2>
      <select id="mySelect" onchange="getCar()" >
        <option value="Lexus 470h">Lexus 470h
        <option value="BMW 320i">BMW 320i
        <option value="Mercedes S500">Mercedes S500
        <option value="Toyota premio">Toyota premio
        <option value="Toyota prado vx">Toyota prado vx
        <option value="Subaru forester">Subaru forester
        <option value="Honda">Honda
        <option value="Range Rover sport">Range Rover sport
      </select>

      <p id="selected"></p>
     
      <script type="text/javascript">
        // var btn = document.getElementById("showbutton")
        // var myEvent = new CustomEvent("showProfile",{ 'detail' : {first: "James",last: "mukuru"}});
        // btn.addEventListener("showProfile", showName, false);
        // btn.dispatchEvent(myEvent);
        //  function showName(e) {
        //      //var x = document.getElementById("mySelect").value;
        //      var out = document.getElementById("demo");
            
        //     out.innerHTML= "My name is: " + e.detail.first + ' ' + e.detail.last ;
        //     out.style.color = "red";
        //  }
        function getCar() {
          var x = document.getElementById("mySelect").value;
          document.getElementById("selected").innerHTML = "You selected: " + x;
        }

        var myEvent;
        var showProfile = function () {
        try {
            myEvent = new CustomEvent(
               "show",
                {
                    detail: {
                        profile: "We are car company committed to providing exceptional customer experience throughout our network by supplying an outstanding range of automotive cars and products with superior levels of sales and aftersales support. This is enabled by a highly engaged and specialized workforce that ensures our customers and principles receive first-rate service and support at all times",
                        timeofevent: new Date()
                    },
                    bubbles: true,
                    cancelable: true
                }
            );
            document.addEventListener("show", showName);
            document.dispatchEvent(myEvent);
        } catch (e) {
            alert(e.message);
        }
    }
    function showName() {
        alert(window.event.detail.profile + "\n\n\n" + "Time:" + " " +  window.event.detail.timeofevent);
    }

      </script>
      
   </body>
</html>


